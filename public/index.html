<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Private CHESS</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Remover todo o CSS embutido daqui, pois ser√° migrado para style.css */
  </style>
</head>
<body>
  <div class="language-selector-container" style="display:flex;align-items:center;gap:16px;">
    <button id="manifestoBtn" style="font-size:1em;padding:2px 12px;cursor:pointer;">Manifesto</button>
  </div>
  <div id="manifesto-container" style="display:none;max-width:700px;margin:32px auto 0 auto;padding:32px 24px 24px 24px;background:#fff;border-radius:18px;box-shadow:0 2px 16px #0002;">
    <div style="width:100%;display:flex;justify-content:center;margin-bottom:18px;">
      <a href="#" id="manifesto-logo-link">
        <img src="logo.svg" alt="Private CHESS Logo" style="height:64px;">
      </a>
    </div>
    <h2 id="manifesto-title" style="text-align:center;margin-bottom:24px;"></h2>
    <pre id="manifesto-text" style="white-space:pre-wrap;font-size:1.1em;line-height:1.6;text-align:center;background:none;border:none;"></pre>
    <div id="manifesto-signature" style="text-align:center;margin-top:24px;display:none;">
      <img src="sig.png" alt="Assinatura" style="height:48px;display:block;margin:0 auto 8px auto;">
      <span id="manifesto-author" style="font-size:1.1em;font-weight:bold;">Pablo Murad</span>
    </div>
  </div>
  <div style="width:100%;display:flex;justify-content:center;margin-top:18px;">
    <a href="https://privatechess.org" target="_blank" rel="noopener noreferrer">
      <img src="logo.svg" alt="Private CHESS Logo" style="height:48px; margin-bottom:12px;">
    </a>
  </div>
  <h1>Private CHESS</h1>
  <div id="privacy-banner" style="background:#222;color:#fff;padding:12px 0;font-size:1.1em;border-bottom:2px solid #444;">
    üîí Private CHESS: Este jogo √© seguro, privado e n√£o coletamos nenhum dado dos jogadores.
  </div>
  <div id="private-room-controls">
    <button id="createRoomBtn">Criar sala privada</button>
    <input id="roomCodeInput" type="text" maxlength="6" placeholder="C√≥digo da sala">
    <button id="joinRoomBtn">Entrar em sala</button>
    <div id="roomCodeDisplay" style="margin-top:10px;font-size:1.1em;color:#6f6;display:none;"></div>
  </div>
  <div id="status">Clique em "Iniciar jogo" para jogar contra outro jogador.</div>
  <button id="startBtn">Iniciar jogo</button>
  <button id="resignBtn" style="display: none;">Desistir</button>
  <div id="game-area">
    <div class="game-board-container">
 <div id="timers">
        <div>Tempo das brancas: <span id="white-timer">0:00</span></div>
        <div>Tempo das pretas: <span id="black-timer">0:00</span></div>
      </div>
      <div id="chessboard"></div>
    </div>
    <div class="game-sidebar">
      <div id="history">
        <h3>Hist√≥rico de Movimentos</h3>
        <div style="display:flex;gap:8px;margin-bottom:8px;">
          <button id="snapshotBtn" style="font-size:0.95em;">Baixar PNG</button>
        </div>
        <ol id="move-list"></ol>
      </div>
      <div id="stats" style="margin-top:20px;">
        <h3>Estat√≠sticas</h3>
        <div>Lances: <span id="move-count">0</span></div>
        <div>Capturas: <span id="capture-count">0</span></div>
        <div>Xeques: <span id="check-count">0</span></div>
      </div>
 <div id="chat">
        <h3>Chat</h3>
        <div id="chat-messages"></div>
        <form id="chat-form">
          <input id="chat-input" type="text" maxlength="120" placeholder="Digite sua mensagem...">
          <button type="submit">Enviar</button>
        </form>
      </div>
    </div>
  </div>
  <div id="victory-overlay">
    <img src="baby.gif" alt="Vit√≥ria">
    <div>VOC√ä VENCEU.</div>
  </div>
  <div id="exportModal">
    <div id="exportContent"></div>
    <div class="export-modal-buttons">
 <button onclick="copyExportText()" id="copyExportBtn" style="display:none;">Copiar</button>
 <button onclick="closeExportModal()">Fechar</button>
 <a id="downloadExportBtn" style="display:none;" download>Baixar</a>
    </div>
  </div>
  <div id="language-modal" style="position:fixed;z-index:9999;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;">
    <div style="background:#fff;padding:36px 32px 28px 32px;border-radius:18px;box-shadow:0 2px 24px #0006;display:flex;flex-direction:column;align-items:center;">
      <div style="font-size:1.3em;font-weight:bold;margin-bottom:18px;color:#222;">Selecione o idioma</div>
      <div style="display:flex;gap:32px;">
        <button class="lang-flag-btn" data-lang="pt" style="background:none;border:none;cursor:pointer;padding:0;outline:none;">
          <img src="https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/br.svg" alt="Portugu√™s" style="width:56px;height:56px;border-radius:50%;box-shadow:0 2px 8px #0002;">
        </button>
        <button class="lang-flag-btn" data-lang="en" style="background:none;border:none;cursor:pointer;padding:0;outline:none;">
          <img src="https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/us.svg" alt="English" style="width:56px;height:56px;border-radius:50%;box-shadow:0 2px 8px #0002;">
        </button>
        <button class="lang-flag-btn" data-lang="ru" style="background:none;border:none;cursor:pointer;padding:0;outline:none;">
          <img src="https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/ru.svg" alt="–†—É—Å—Å–∫–∏–π" style="width:56px;height:56px;border-radius:50%;box-shadow:0 2px 8px #0002;">
        </button>
      </div>
    </div>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="chess.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>‚ôüÔ∏è</text></svg>'">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('service-worker.js');
      });
    }
  </script>
  <script src="main.js"></script>
  <footer>
    <span id="footer-text">Desenvolvido por Pablo Murad - 2025</span>
  </footer>
  <script>
    document.getElementById('ano-atual').textContent = new Date().getFullYear();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</body>
</html> 